http://cafbit.com/entry/terminal_window_size_detection_over