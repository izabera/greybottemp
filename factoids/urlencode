See http://mywiki.wooledge.org/BashFAQ/071 or https://gist.github.com/887e74e74877c7613920