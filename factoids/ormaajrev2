# str=abcdef a='a[$(printf %s "${str:n:a[n++/${#str}],1}" >&3)1]' let a 3>&1