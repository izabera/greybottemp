http://mywiki.wooledge.org/RaceCondition